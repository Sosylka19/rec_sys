{
    "version": 3,
    "name": "API Gateway",
    "port": 8080,
    "cache_ttl": "300s",
    "endpoints": [
        {
            "endpoint": "/db",
            "method": "GET",
            "backend": [
                {
                    "url_pattern": "/history/",
                    "host": [ "http://db_service:8001" ]
                }
            ]
        },
        {
            "endpoint": "/db",
            "method": "POST",
            "backend": [
                {
                    "url_pattern": "/history/",
                    "host": [ "http://db_service:8001" ]
                }
            ]
        },
        {
            "endpoint": "/ml",
            "method": "POST",
            "backend": [
                {
                    "url_pattern": "/recommend/",
                    "host": [ "http://ml_service:8000" ]
                }
            ]   
        }
    ]
}